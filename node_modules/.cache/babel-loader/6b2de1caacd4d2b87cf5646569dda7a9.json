{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\om_react\\\\src\\\\components\\\\VentaPresencial\\\\StepControl\\\\FormNavigation.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { useFormikContext } from 'formik';\nimport React from 'react';\nimport { useContext } from 'react';\nimport { Button } from 'react-bulma-components';\nimport { useParams } from 'react-router';\nimport { AppContext } from '../../PasarelaCobros/Provider/StateProvider';\nimport { useProgress } from '../Hook/useProgress';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FormNavigation = _ref => {\n  _s();\n\n  let {\n    hasPrevious,\n    isLastStep,\n    onBackClick\n  } = _ref;\n  const {\n    values,\n    setFieldValue,\n    ...formik\n  } = useFormikContext();\n  const {\n    stepNumberGlobal\n  } = useContext(AppContext);\n  const {\n    id\n  } = useParams();\n  const {\n    cardComplete,\n    savingProgress\n  } = values;\n  const disabledButton = isLastStep === !cardComplete || savingProgress;\n  const disabledSavingProgress = !formik.dirty;\n\n  const handleSaveProgress = async () => {\n    setFieldValue('savingProgress', true);\n    console.log({\n      stepNumberGlobal,\n      ...values\n    });\n\n    try {\n      switch (stepNumberGlobal) {\n        case 1:\n          {\n            const response = await axios.post(`/api/leadSaveProgress/${id}`, {\n              step_number: 2,\n              ...values\n            });\n            console.log({\n              stepNumberGlobal,\n              response\n            });\n            break;\n          }\n\n        default:\n          {\n            const response = await axios.put(`/api/progress/${id}`, {\n              step_number: 1,\n              ...values\n            });\n            console.log({\n              stepNumberGlobal,\n              response\n            });\n            break;\n          }\n      }\n    } catch (e) {\n      const {\n        message\n      } = e.response.data;\n      console.log({\n        message\n      });\n    } finally {\n      setFieldValue('savingProgress', false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"controls\",\n    children: [hasPrevious && /*#__PURE__*/_jsxDEV(Button, {\n      className: \"flex-grow-1 is-primary is-normal is-fullwidth\",\n      type: \"button\",\n      onClick: onBackClick,\n      disabled: disabledButton,\n      children: \"Volver\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: `flex-grow-1 is-success is-normal is-fullwidth ${disabledButton ? 'is-loading is-hover' : 'is-outlined'}`,\n      type: \"button\",\n      onClick: handleSaveProgress,\n      disabled: disabledButton || disabledSavingProgress,\n      children: \"Guardar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), !isLastStep && /*#__PURE__*/_jsxDEV(Button, {\n      className: `flex-grow-1 is-primary is-normal is-fullwidth`,\n      disabled: disabledButton,\n      type: \"submit\",\n      children: isLastStep ? 'Pagar' : 'Siguiente'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FormNavigation, \"bOVO9tforSEISK8a/5ec8hfF6Ow=\", false, function () {\n  return [useFormikContext, useParams];\n});\n\n_c = FormNavigation;\nexport default FormNavigation;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormNavigation\");","map":{"version":3,"names":["axios","useFormikContext","React","useContext","Button","useParams","AppContext","useProgress","FormNavigation","hasPrevious","isLastStep","onBackClick","values","setFieldValue","formik","stepNumberGlobal","id","cardComplete","savingProgress","disabledButton","disabledSavingProgress","dirty","handleSaveProgress","console","log","response","post","step_number","put","e","message","data"],"sources":["C:/xampp/htdocs/om_react/src/components/VentaPresencial/StepControl/FormNavigation.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useFormikContext } from 'formik';\r\nimport React from 'react';\r\nimport { useContext } from 'react';\r\nimport { Button } from 'react-bulma-components';\r\nimport { useParams } from 'react-router';\r\nimport { AppContext } from '../../PasarelaCobros/Provider/StateProvider';\r\nimport { useProgress } from '../Hook/useProgress';\r\n\r\nconst FormNavigation = ({ hasPrevious, isLastStep, onBackClick }) => {\r\n  const { values, setFieldValue, ...formik } = useFormikContext();\r\n  const { stepNumberGlobal } = useContext(AppContext);\r\n  const { id } = useParams();\r\n  const { cardComplete, savingProgress } = values;\r\n  const disabledButton = isLastStep === !cardComplete || savingProgress;\r\n  const disabledSavingProgress = !formik.dirty;\r\n\r\n  const handleSaveProgress = async () => {\r\n    setFieldValue('savingProgress', true);\r\n    console.log({ stepNumberGlobal, ...values });\r\n\r\n    try {\r\n      switch (stepNumberGlobal) {\r\n        case 1: {\r\n          const response = await axios.post(`/api/leadSaveProgress/${id}`, {\r\n            step_number: 2,\r\n            ...values,\r\n          });\r\n          console.log({ stepNumberGlobal, response });\r\n          break;\r\n        }\r\n        default: {\r\n          const response = await axios.put(`/api/progress/${id}`, {\r\n            step_number: 1,\r\n            ...values,\r\n          });\r\n          console.log({ stepNumberGlobal, response });\r\n          break;\r\n        }\r\n      }\r\n    } catch (e) {\r\n      const { message } = e.response.data;\r\n      console.log({ message });\r\n    } finally {\r\n      setFieldValue('savingProgress', false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"controls\">\r\n      {hasPrevious && (\r\n        <Button\r\n          className=\"flex-grow-1 is-primary is-normal is-fullwidth\"\r\n          type=\"button\"\r\n          onClick={onBackClick}\r\n          disabled={disabledButton}\r\n        >\r\n          Volver\r\n        </Button>\r\n      )}\r\n\r\n      <Button\r\n        className={`flex-grow-1 is-success is-normal is-fullwidth ${\r\n          disabledButton ? 'is-loading is-hover' : 'is-outlined'\r\n        }`}\r\n        type=\"button\"\r\n        onClick={handleSaveProgress}\r\n        disabled={disabledButton || disabledSavingProgress}\r\n      >\r\n        Guardar\r\n      </Button>\r\n      {!isLastStep && (\r\n        <Button\r\n          className={`flex-grow-1 is-primary is-normal is-fullwidth`}\r\n          disabled={disabledButton}\r\n          type=\"submit\"\r\n        >\r\n          {isLastStep ? 'Pagar' : 'Siguiente'}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormNavigation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}