{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\om_react\\\\src\\\\components\\\\VentaPresencial\\\\Stepper\\\\SelectCourse.jsx\",\n    _s = $RefreshSig$();\n\nimport { useFormikContext } from 'formik';\nimport React, { useContext, useState } from 'react';\nimport { useParams } from 'react-router';\nimport { AppContext } from '../../PasarelaCobros/Provider/StateProvider';\nimport CourseItem from '../CourseItem';\nimport { FormStep } from './MultiStep';\nimport ReactPaginate from 'react-paginate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SelectCourseStep = () => {\n  _s();\n\n  const {\n    fetchProducts,\n    products,\n    selectedCourses,\n    setSelectedCourses\n  } = useContext(AppContext);\n  const {\n    id\n  } = useParams();\n  const formik = useFormikContext();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [currentPage, setCurrentPage] = useState(0);\n  const [elementsPerPage, setElementsPerPage] = useState(3);\n\n  const handlePageClick = data => {\n    setCurrentPage(data.selected);\n  };\n\n  const handleSelectCourse = courseId => {\n    const [courseSelected] = products.filter(product => product.id === courseId);\n    const courseIndex = selectedCourses.findIndex(course => course.id === courseId);\n\n    if (courseIndex !== -1) {\n      setSelectedCourses(prevState => {\n        prevState.splice(courseIndex, 1);\n        return [...prevState];\n      });\n    } else {\n      setSelectedCourses(prevState => [...prevState, courseSelected]);\n    }\n\n    console.log({\n      selectedCourses\n    });\n  };\n\n  const productsWithPrice = products.filter(product => product.precio !== 0);\n  const filteredProducts = productsWithPrice.filter(product => product.title.toLowerCase().includes(searchTerm.toLowerCase()));\n  const elementsToShow = filteredProducts.slice(currentPage * elementsPerPage, (currentPage + 1) * elementsPerPage);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormStep, {\n      stepNumber: 3,\n      stepName: \"Seleccion de Curso\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            type: \"text\",\n            placeholder: \"Buscar producto por nombre\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"medModPago_grid\",\n        className: 'courses-grid',\n        children: elementsToShow.map(product => /*#__PURE__*/_jsxDEV(CourseItem, {\n          profession: product.tags,\n          specialty: product.area,\n          hours: product.horas,\n          courseId: product.id,\n          name: product.title,\n          price: product.precio,\n          onSelectedCourse: handleSelectCourse\n        }, product.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      previousLabel: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button is-primary\",\n        children: \"Anterior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 24\n      }, this),\n      nextLabel: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button is-primary\",\n        children: \"Siguente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 20\n      }, this),\n      breakLabel: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button is-info break-me\",\n        children: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this),\n      breakClassName: 'break-me',\n      pageCount: Math.ceil(products.length / elementsPerPage),\n      onPageChange: handlePageClick,\n      initialPage: 0,\n      forcePage: currentPage,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 3,\n      containerClassName: 'pagination-container',\n      pageClassName: 'pagination-item',\n      activeClassName: 'is-current'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(SelectCourseStep, \"Mwl2ROigmV/I2z4ymd+FlariOkU=\", false, function () {\n  return [useParams, useFormikContext];\n});\n\n_c = SelectCourseStep;\nexport default SelectCourseStep;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectCourseStep\");","map":{"version":3,"names":["useFormikContext","React","useContext","useState","useParams","AppContext","CourseItem","FormStep","ReactPaginate","SelectCourseStep","fetchProducts","products","selectedCourses","setSelectedCourses","id","formik","searchTerm","setSearchTerm","currentPage","setCurrentPage","elementsPerPage","setElementsPerPage","handlePageClick","data","selected","handleSelectCourse","courseId","courseSelected","filter","product","courseIndex","findIndex","course","prevState","splice","console","log","productsWithPrice","precio","filteredProducts","title","toLowerCase","includes","elementsToShow","slice","e","target","value","map","tags","area","horas","Math","ceil","length"],"sources":["C:/xampp/htdocs/om_react/src/components/VentaPresencial/Stepper/SelectCourse.jsx"],"sourcesContent":["import { useFormikContext } from 'formik';\r\nimport React, { useContext, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { AppContext } from '../../PasarelaCobros/Provider/StateProvider';\r\nimport CourseItem from '../CourseItem';\r\nimport { FormStep } from './MultiStep';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nconst SelectCourseStep = () => {\r\n  const { fetchProducts, products, selectedCourses, setSelectedCourses } =\r\n    useContext(AppContext);\r\n  const { id } = useParams();\r\n  const formik = useFormikContext();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  const [elementsPerPage, setElementsPerPage] = useState(3);\r\n\r\n  const handlePageClick = (data) => {\r\n    setCurrentPage(data.selected);\r\n  };\r\n\r\n  const handleSelectCourse = (courseId) => {\r\n    const [courseSelected] = products.filter(\r\n      (product) => product.id === courseId\r\n    );\r\n\r\n    const courseIndex = selectedCourses.findIndex(\r\n      (course) => course.id === courseId\r\n    );\r\n\r\n    if (courseIndex !== -1) {\r\n      setSelectedCourses((prevState) => {\r\n        prevState.splice(courseIndex, 1);\r\n        return [...prevState];\r\n      });\r\n    } else {\r\n      setSelectedCourses((prevState) => [...prevState, courseSelected]);\r\n    }\r\n\r\n    console.log({ selectedCourses });\r\n  };\r\n  const productsWithPrice = products.filter((product) => product.precio !== 0);\r\n\r\n  const filteredProducts = productsWithPrice.filter((product) =>\r\n    product.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n  const elementsToShow = filteredProducts.slice(\r\n    currentPage * elementsPerPage,\r\n    (currentPage + 1) * elementsPerPage\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <FormStep stepNumber={3} stepName=\"Seleccion de Curso\">\r\n        <div className=\"field\">\r\n          <div className=\"control\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Buscar producto por nombre\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div id=\"medModPago_grid\" className={'courses-grid'}>\r\n          {elementsToShow.map((product) => (\r\n            <CourseItem\r\n              key={product.id}\r\n              profession={product.tags}\r\n              specialty={product.area}\r\n              hours={product.horas}\r\n              courseId={product.id}\r\n              name={product.title}\r\n              price={product.precio}\r\n              onSelectedCourse={handleSelectCourse}\r\n            />\r\n          ))}\r\n        </div>\r\n      </FormStep>\r\n      <ReactPaginate\r\n        previousLabel={<button className=\"button is-primary\">Anterior</button>}\r\n        nextLabel={<button className=\"button is-primary\">Siguente</button>}\r\n        breakLabel={<button className=\"button is-info break-me\">...</button>}\r\n        breakClassName={'break-me'}\r\n        pageCount={Math.ceil(products.length / elementsPerPage)}\r\n        onPageChange={handlePageClick}\r\n        initialPage={0}\r\n        forcePage={currentPage}\r\n        marginPagesDisplayed={2}\r\n        pageRangeDisplayed={3}\r\n        containerClassName={'pagination-container'}\r\n        pageClassName={'pagination-item'}\r\n        activeClassName={'is-current'}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectCourseStep;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}